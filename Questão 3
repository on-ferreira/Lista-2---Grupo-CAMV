#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <math.h>
#include <string.h>
#include <conio.h> 

int main() 
{
	setlocale (LC_ALL, "");
	int JdV[3][3] = {0,0,0,0,0,0};  /* matrix que recebera o jogo da velha no formato padrão 
3x3, note que a matriz já está sendo inicializada*/
	system("cls");
	printf("Jogo da Velha!\n");
	

	while(1)
	{
		int flagJogador=1,flagVit=0, flagEmpate=0;
		int linha,coluna;
		int aux1, aux2;
		
		if(flagJogador ==1)
		{
			printf("\nPrimeiro Jogador:");
			scanf("%d %d",&aux1, &aux2);
			JdV[aux1-1][aux2-1] = 1;
			printf("\nTabuleiro:\n");
			for(linha = 0; linha<3;linha++)
			{
				for(coluna=0; coluna<3;coluna++)
				{
					printf("%d ", JdV[linha][coluna]);
				}
				printf("\n");
			}
			
			for(int linha =0; linha<3; linha++)
			{
				if( JdV[linha][0] == JdV[linha][1] && JdV[linha][2])
				{
					printf("Parabéns! Primeiro jogador ganhou!");
					flagVit = 1;
				}
			}
			
			for(int coluna =0; coluna<3; coluna++)
			{
				if( JdV[0][coluna] == JdV[1][coluna] && JdV[2][coluna]) 
				{
					printf("Parabéns! Primeiro jogador ganhou!");
					flagVit = 1;
				}
			}
			
			if( JdV[0][0] == JdV[1][1] && JdV[2][2]) 
				{
					printf("Parabéns! Primeiro jogador ganhou!");
					flagVit = 1;
				}
			if( JdV[0][3] == JdV[1][1] && JdV[2][0]) 
				{
					printf("Parabéns! Primeiro jogador ganhou!");
					flagVit = 1;
				}
			if(JdV[0][0] !=0 && JdV[0][1] !=0 && JdV[0][2] !=0 && JdV[1][0] !=0 && JdV[1][1] !=0 && JdV[1][2] !=0 && JdV[2][0] !=0 && JdV[2][1] !=0 && JdV[2][2] !=0 ) 
			{
				printf("\nEmpate!");
				flagEmpate =1 ;
			}
			flagJogador = 2;
		}
		
		if(flagVit ==1 || flagEmpate == 1)		break;
		
		if(flagJogador ==2)
		{
			printf("\nSegundo Jogador:");
			scanf("%d %d",&aux1, &aux2);
			JdV[aux1-1][aux2-1] = 2;
			printf("\nTabuleiro:\n");
			for(linha = 0; linha<3;linha++)
			{
				for(coluna=0; coluna<3;coluna++)
				{
					printf("%d ", JdV[linha][coluna]);
				}
				printf("\n");
			}
			flagJogador = 1;
			for(int linha =0; linha<3; linha++)
			{
				if( JdV[linha][0] == JdV[linha][1] && JdV[linha][2])
				{
					printf("Parabéns! Segundo jogador ganhou!");
					flagVit = 1;
				}
			}
			
			for(int coluna =0; coluna<3; coluna++)
			{
				if( JdV[0][coluna] == JdV[1][coluna] && JdV[2][coluna]) 
				{
					printf("Parabéns! Segundo jogador ganhou!");
					flagVit = 1;
				}
			}
			
			if( JdV[0][0] == JdV[1][1] && JdV[2][2]) 
				{
					printf("Parabéns! Segundo jogador ganhou!");
					flagVit = 1;
				}
			if( JdV[0][3] == JdV[1][1] && JdV[2][0]) 
				{
					printf("Parabéns! Segundo jogador ganhou!");
					flagVit = 1;
				}
			if(JdV[0][0] !=0 && JdV[0][1] !=0 && JdV[0][2] !=0 && JdV[1][0] !=0 && JdV[1][1] !=0 && JdV[1][2] !=0 && JdV[2][0] !=0 && JdV[2][1] !=0 && JdV[2][2] !=0 ) 
			{
				printf("\nEmpate!");
				flagEmpate =1 ;
			}
		}
		
		if(flagVit ==1 || flagEmpate == 1)		break;
	}

	return 0;
}
