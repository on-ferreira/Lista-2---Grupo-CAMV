#include <stdio.h>
#include <stdlib.h>
#include <locale.h>
#include <math.h>
#include <string.h>
#include <conio.h> 

int JdV[3][3];
int checarinput(int aux1, int aux2);
int checarlinha();
int checarcoluna();
int checardiagonal_principal();
int checardiagonal_secundaria();
int empate();
void rodada(int numero_jogador);
int tabuleiro();

int main() 
{
	setlocale (LC_ALL, "");
	int JdV[3][3] = {0,0,0,0,0,0};  /* matrix que recebera o jogo da velha no formato padrão 
3x3, note que a matriz já está sendo inicializada*/
	system("cls");
	printf("Jogo da Velha!\n");
	rodada(1);
	return 0;
}

int empate()
{
	int ctEmpate=0,linha,coluna;
	for(linha =0; linha<3; linha++)
	{
		for(coluna = 0; coluna<3; coluna++)
		{
			if(JdV[linha][coluna]!=0)
			{
				ctEmpate++;
			}
		}
	}
	if((linha*coluna) == ctEmpate) return 1;
	else return 0;
}

int tabuleiro()
{
	printf("\nTabuleiro:\n");
	for(int linha = 0; linha<3;linha++)
		{
		for(int coluna=0; coluna<3;coluna++)
			{
				printf("%d ", JdV[linha][coluna]);
			}
			printf("\n");
		}
	checarlinha();
	checarcoluna();
	checardiagonal_principal();
	checardiagonal_secundaria();
	empate();
	int numero_jogador;
	if(numero_jogador==1) return 2;
	if(numero_jogador==2) return 1;
}

void rodada(int numero_jogador)
{
	int aux1, aux2;
	if(numero_jogador== 1)
	{
		printf("\nPrimeiro Jogador:");
	}
	
	if(numero_jogador == 2)
	{
		printf("\nSegundo Jogador:");
	}
	scanf("%d %d",&aux1, &aux2);
	if(checarinput(aux1,aux2) == 1)
	{
		printf("\nPosição Inválida!\nTente novamente!");
		rodada(numero_jogador);
	}
	else tabuleiro();
}

int checarinput(int aux1, int aux2)
{
	if (JdV[aux1][aux2]==0) return 0;
	else return 1;
}
